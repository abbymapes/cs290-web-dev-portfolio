(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],d=0,g=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&g.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(g.length)g.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"00ba":function(e,t,r){},"02a7":function(e,t,r){},"034f":function(e,t,r){"use strict";r("85ec")},"04c6":function(e,t,r){"use strict";r("197c")},"0f58":function(e,t){t.FIREBASE_FIRESTORE={API_KEY:"AIzaSyCaalDTvioxdSo2oyXV1s4wZHTsQYRtIyg",AUTH_DOMAIN:"bluebook-153fe.firebaseapp.com",PROJECT_ID:"bluebook-153fe",STORAGE_BUCKET:"bluebook-153fe.appspot.com",MESSAGING_SENDER_ID:"1053091116434",APP_ID:"1:1053091116434:web:dff9bf6545328227583d4b",MEASUREMENT_ID:"G-7B391GWBSY"},t.DUKE_API={API_KEY:"07ebfea77585b8fa844c8034c56f740c",URL_BASE:"https://streamer.oit.duke.edu/curriculum/courses/"}},1824:function(e,t,r){"use strict";r("ccae")},"197c":function(e,t,r){},"1ea6":function(e,t,r){},"3c46":function(e,t,r){"use strict";r("00ba")},"3eb9":function(e,t,r){"use strict";r("8354")},"44b8":function(e,t,r){},"4b7e":function(e,t,r){"use strict";r("d535")},"539d":function(e,t,r){"use strict";r("bdc5")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("e792"),r("0cdd");var n=r("2b0e"),s=r("5f5b");r("ab8b"),r("2dd8");n["default"].use(s["a"]);r("1ea6");var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"main-navbar-section"},[r("nav-bar",{attrs:{sections:e.getNavBarTitles,isCentered:!1,currentPage:e.currentPage},on:{"change-page":e.changePage}})],1),r("b-overlay",{staticClass:"overlay",attrs:{show:e.pageLoading,"no-center":""}},[r("div",{staticClass:"page-content"},["feed"==e.currentPage?r("feed-page",{on:{"user-page":e.goToUserPage,"course-page":e.goToCoursePage}}):e._e(),"explore"==e.currentPage?r("explore-page"):e._e(),"profile"==e.currentPage?r("user-page",{attrs:{requestedUid:e.currentUid},on:{"user-page":e.goToUserPage,"course-page":e.goToCoursePage,"subject-page":e.goToSubjectPage}}):e._e(),"login"==e.currentPage?r("log-in-page"):e._e(),"signup"==e.currentPage?r("sign-up-page"):e._e(),"user"==e.currentPage?r("user-page",{attrs:{requestedUid:e.requestedUid},on:{"user-page":e.goToUserPage,"course-page":e.goToCoursePage,"subject-page":e.goToSubjectPage}}):e._e(),"course"==e.currentPage?r("course-page",{attrs:{requestedCourseId:e.requestedCourseId,course:e.requestedCourse},on:{"user-page":e.goToUserPage,"attribute-page":e.goToAttributePage}}):e._e(),"subject"==e.currentPage?r("subject-page",{attrs:{subjectCode:e.requestedSubject.code,subjectName:e.requestedSubject.name},on:{"course-page":e.goToCoursePage}}):e._e(),"attribute"==e.currentPage?r("attribute-page",{attrs:{attributeName:e.requestedAttribute},on:{"course-page":e.goToCoursePage}}):e._e()],1)])],1)},o=[],i=r("1da1"),c=(r("96cf"),r("2591")),u=r("0f58"),l={apiKey:u["FIREBASE_FIRESTORE"].API_KEY,authDomain:u["FIREBASE_FIRESTORE"].AUTH_DOMAIN,projectId:u["FIREBASE_FIRESTORE"].PROJECT_ID,storageBucket:u["FIREBASE_FIRESTORE"].STORAGE_BUCKET,messagingSenderId:u["FIREBASE_FIRESTORE"].MESSAGING_SENDER_ID,appId:u["FIREBASE_FIRESTORE"].APP_ID,measurementId:u["FIREBASE_FIRESTORE"].MEASUREMENT_ID},d=c["a"].initializeApp(l),g=d.firestore(),m="testId",p=!0,f=!0,h=f?"https://tranquil-hollows-68915.herokuapp.com":"",b={db:g,currentUid:m,loggedIn:p,SERVER_URL:h},v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-bar"},e._l(e.sections,(function(t,n){return r("a",{key:n,class:e.isCurrentPage(t.value)+" "+e.isCenterClass,on:{click:function(r){e.changedPage=!0,e.selectedPage=t.value}}},[e._v(" "+e._s(t.name)+" ")])})),0)},w=[],R={name:"NavBar",props:{sections:{type:Array,default:function(){return[]}},currentPage:String,isCentered:Boolean},data:function(){return{selectedPage:this.currentPage,changedPage:!0}},methods:{isCurrentPage:function(e){return e===this.currentPage?"home":""}},computed:{isCenterClass:function(){return this.isCentered?"centered":""}},watch:{selectedPage:function(){this.changedPage&&(console.log(this.selectedPage),this.$emit("change-page",this.selectedPage),this.changedPage=!1)},currentPage:function(){this.selectedPage=this.currentPage}}},C=R,_=(r("3eb9"),r("2877")),j=Object(_["a"])(C,v,w,!1,null,"cbd97e9a",null),y=j.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Feed")]),r("b-overlay",{attrs:{show:e.loading,rounded:"sm"}},[!e.disablePage&&e.reactions.length>0?r("span",e._l(e.reactions,(function(t){return r("b-card",{key:t.reactionId,staticClass:"reaction-feed"},[r("reaction",{attrs:{reactionId:t.reactionId,type:t.type,course:t.course,user:t.user},on:{"course-page":e.goToCoursePage,"user-page":e.goToUserPage}})],1)})),1):e.disablePage?r("span",[e._v(" Couldn't load your feed. Please refresh the page and try again. ")]):r("span",[e._v(" Your friends haven't reacted to any classes yet! ")])]),r("b-modal",{model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.errorMessage)+" ")])])],1)},P=[],E=(r("caad"),r("d3b7"),r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-overlay",{attrs:{show:e.loading,rounded:"sm"}},[e.showReactionError||e.loading?r("div",{staticClass:"modal-body"},[e._v("Error retrieving Reaction")]):r("div",{staticClass:"modal-body center"},[r("div",{on:{click:function(t){return e.goToUserPage(e.user.userId)}}},[r("div",{staticClass:"avatar"},[r("img",{staticClass:"small-avatar",attrs:{src:e.user.picture,alt:e.user.displayName+"Profile Picture"}})]),r("h1",[e._v(e._s(e.user.displayName)+" "+e._s(e.reactionVerb))])]),r("br"),r("class",{staticClass:"class",attrs:{type:e.type,course:e.course},on:{"selected-course":e.goToCoursePage}}),r("br"),r("h2",[e._v("Comments")]),r("b-overlay",{attrs:{show:e.commentsLoading,rounded:"sm"}},[r("div",[r("b-input-group",{staticClass:"mb-3",attrs:{size:"sm"}},[r("b-form-textarea",{attrs:{id:"comment-textarea",placeholder:"Leave a comment here",rows:"1","max-rows":"8"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.postComment(t)}},model:{value:e.newComment,callback:function(t){e.newComment=t},expression:"newComment"}}),r("b-input-group-append",[r("b-button",{attrs:{size:"sm",text:"Button",variant:"success"},on:{click:e.postComment}},[e._v(" Post ")])],1)],1)],1),r("comment-section",{attrs:{comments:e.displayComments},on:{"user-page":e.goToUserPage,"delete-comment":e.deleteComment}}),r("b-pagination",{attrs:{"total-rows":e.totalComments,"per-page":e.perPage,"aria-controls":"comment-section",pills:""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)])}),x=[],S=(r("fb6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{title:e.course.subjectCode+" "+e.course.catalogNumber,"border-variant":e.getBorderStyle},on:{click:function(t){return e.goToCoursePage(e.course)}}},[r("b-card-text",[e._v(" "+e._s(e.course.title)+" ")])],1)}),I=[],U={name:"Class",components:{},props:{type:String,course:Object,reactionId:{type:String,required:!1}},data:function(){return{styles:{like:"success",dislike:"danger",wishlist:"warning"}}},methods:{goToCoursePage:function(e){this.isReaction?this.$emit("selected-reaction",this.type,this.course,this.reactionId):this.$emit("selected-course",e)}},computed:{getBorderStyle:function(){return this.styles[this.type]?this.styles[this.type]:"dark"},isReaction:function(){return!!this.reactionId}}},O=U,T=(r("04c6"),Object(_["a"])(O,S,I,!1,null,"04357540",null)),L=T.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.comments.length>0?r("table",{attrs:{id:"comment-section"}},e._l(e.comments,(function(t,n){return r("tr",{key:n},[e.isCreator(t.user.userId)?r("div",{staticClass:"creator"},[r("span",{on:{click:function(r){return e.goToUserPage(t.user.userId)}}},[r("span",{staticClass:"body"},[r("span",{staticClass:"content"},[r("span",{staticClass:"text"},[e._v(e._s(t.commentText))])])]),r("span",{staticClass:"avatar"},[r("img",{attrs:{src:t.user.picture}})])]),r("b-button",{staticClass:"delete-button",attrs:{variant:"outline-danger"},on:{click:function(r){return e.deleteComment(t.commentId)}}},[e._v(" X ")])],1):r("div",{staticClass:"not-creator"},[r("div",{staticClass:"not-creator"},[r("span",{staticClass:"avatar",on:{click:function(r){return e.goToUserPage(t.user.userId)}}},[r("img",{attrs:{src:t.user.picture}})]),r("span",{staticClass:"name",on:{click:function(r){return e.goToUserPage(t.user.userId)}}},[e._v(e._s(t.user.displayName))])]),r("span",{staticClass:"body"},[r("span",{staticClass:"content"},[r("span",{staticClass:"text"},[e._v(e._s(t.commentText))])])])])])})),0):r("table",{attrs:{id:"comment-section"}},[r("tr",{staticClass:"center"},[e._v(" No Comments Yet ")])])},F=[],A={name:"CommentSection",props:{comments:{type:Array,default:function(){return[]}}},methods:{isCreator:function(e){return e===b.currentUid},goToUserPage:function(e){this.$emit("user-page",e)},deleteComment:function(e){this.$emit("delete-comment",e)}}},q=A,N=(r("1824"),Object(_["a"])(q,M,F,!1,null,"35813098",null)),$=N.exports,D={name:"Reaction",components:{Class:L,CommentSection:$},props:{reactionId:String,type:String,course:Object,user:Object},data:function(){return{loading:!1,showReactionError:!1,errorMessage:"",comments:[],perPage:3,currentPage:1,newComment:"",commentsLoading:!1}},methods:{goToCoursePage:function(e){this.clearData(),this.$emit("course-page",e)},closeModal:function(){this.clearData(),this.$emit("close-reaction")},goToUserPage:function(e){this.clearData(),this.$emit("user-page",e)},clearData:function(){this.showReactionError=!1,this.errorMessage="",this.comments=[],this.newComment=""},displayReactionModal:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.commentsLoading=!0,e.showReactionError=!1,e.errorMessage="",t.next=6,fetch("".concat(b.SERVER_URL,"/bluebook/getReactionComments?reactionId=").concat(e.reactionId));case 6:return r=t.sent,t.next=9,r.json();case 9:n=t.sent,r.ok?e.comments=n:(e.errorMessage=n.message,e.showReactionError=!0),e.commentsLoading=!1,e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},postComment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commentsLoading=!0,e.errorMessage="",e.comments=[],r={reactionId:e.reactionId,userId:b.currentUid,commentText:e.newComment},t.next=6,fetch("".concat(b.SERVER_URL,"/bluebook/postReactionComment"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});case 6:return n=t.sent,t.next=9,n.json();case 9:s=t.sent,e.newComment="",n.ok?e.comments=s:(e.errorMessage=s.message,e.showReactionError=!0),e.commentsLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},deleteComment:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.commentsLoading=!0,t.errorMessage="",t.comments=[],t.newComment="",r.next=6,fetch("".concat(b.SERVER_URL,"/bluebook/deleteReactionComment?commentId=").concat(e,"&reactionId=").concat(t.reactionId));case 6:return n=r.sent,r.next=9,n.json();case 9:s=r.sent,n.ok?t.comments=s:(t.errorMessage=s.message,t.showReactionError=!0),t.commentsLoading=!1;case 12:case"end":return r.stop()}}),r)})))()}},computed:{reactionVerb:function(){return["like","dislike"].includes(this.type)?"".concat(this.type,"s"):"wants to take"},numPages:function(){return Math.ceil(this.totalComments/this.perPage)},displayComments:function(){var e=(this.currentPage-1)*this.perPage;return this.comments.slice(e,e+this.perPage)},totalComments:function(){return this.comments.length}},watch:{},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.displayReactionModal();case 2:case"end":return t.stop()}}),t)})))()}},V=D,z=(r("539d"),Object(_["a"])(V,E,x,!1,null,"3c7e7eb1",null)),B=z.exports,W={name:"FeedPage",components:{Reaction:B},props:{},data:function(){return{loading:!1,showError:!1,reactions:[],errorMessage:"",options:{itemMargin:10,containerWidth:10,itemClassName:"item",gridWidth:100,transitionDuration:".5"},disablePage:!1}},methods:{reactionVerb:function(e){return["like","dislike"].includes(e)?"".concat(e,"s"):"wants to take"},goToCoursePage:function(e){this.$emit("course-page",e)},goToUserPage:function(e){this.$emit("user-page",e)},getFeedReaction:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getFriendsReactions?userId=").concat(b.currentUid));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,r.ok?e.reactions=n:(e.errorMessage=n.message,e.showError=!0,e.disablePage=!0);case 7:case"end":return t.stop()}}),t)})))()}},computed:{},watch:{},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getFeedReaction();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},J=W,G=(r("5952"),Object(_["a"])(J,k,P,!1,null,"28c56ca6",null)),K=G.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("Explore")])},H=[],X={name:"ExplorePage",props:{},data:function(){return{}},methods:{},computed:{},watch:{}},Q=X,Z=Object(_["a"])(Q,Y,H,!1,null,"071cd922",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.pageLoading,"no-center":""}},[e.validUser?r("span",[r("h1",[e._v(e._s(this.user.displayName))]),r("div",{staticClass:"avatar"},[r("img",{attrs:{src:this.user.picture,alt:this.user.displayName+"Profile Picture"},on:{load:function(t){e.pageLoading=!1}}})]),r("br"),e.validFollowStatus?r("span",[e.isViewingProfile||e.isFollowing?e._e():r("b-button",{staticClass:"button",attrs:{variant:"outline-success"},on:{click:e.addFriend}},[e._v("Add Friend")]),!e.isViewingProfile&&e.isFollowing?r("b-button",{staticClass:"button",attrs:{variant:"outline-danger"},on:{click:e.removeFriend}},[e._v("Remove Friend")]):e._e(),e.isViewingProfile?r("div",[r("b-button",{staticClass:"button",attrs:{variant:"outline-primary"},on:{click:e.editProfile}},[e._v("Edit Profile")]),r("b-button",{staticClass:"button",attrs:{variant:"outline-primary"},on:{click:e.signOut}},[e._v("Sign Out")])],1):e._e()],1):r("span",[e._v(" We couldn't retrieve your relationship with this user. Please refresh the page and try again. ")]),r("nav-bar",{attrs:{sections:e.sectionTitles,currentPage:e.currentSection,isCentered:!0},on:{"change-page":e.changeSection}}),"classes"==e.currentSection&&e.validReactions?r("user-reaction-section",{attrs:{requestedUid:e.requestedUid},on:{"show-reaction":e.displayReactionModal,"show-error":e.showReactionError}}):"classes"!=e.currentSection||e.validReactions?e._e():r("span",[e._v(" We couldn't load reactions for this user. Please refresh the page and try again. ")]),"subjects"==e.currentSection&&e.validSubjects?r("subjects-section",{attrs:{subjectList:e.fullSubjectList},on:{"subject-page":e.goToSubjectPage,"show-error":e.showSubjectError}}):"subjects"!=e.currentSection||e.validSubjects?e._e():r("span",[e._v(" We couldn't load the subjects for this user. Please refresh the page and try again. ")]),"friends"==e.currentSection&&e.validFriends?r("people-section",{attrs:{requestedUid:e.requestedUid},on:{"user-page":e.goToUserPage,"show-error":e.showPeopleError}}):"friends"!=e.currentSection||e.validFriends?e._e():r("span",[e._v(" We couldn't load the friends for this user. Please refresh the page and try again. ")]),r("reaction-modal",{attrs:{show:e.showReaction,reactionId:e.selectedReactionId,type:e.selectedReactionType,course:e.selectedReactionCourse,user:e.user},on:{"close-reaction":e.closeReaction,"course-page":e.goToCoursePage,"user-page":e.goToUserPage}})],1):r("span",[e._v(" We couldn't find this user. Please refresh the page and try again. ")])]),r("b-modal",{model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.errorMessage)+" ")])])],1)},re=[],ne=(r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reaction-section"},[r("b-overlay",{staticClass:"overlay",attrs:{show:e.classesLoading,"no-center":""}},[r("h2",[e._v("Liked Classes")]),e.liked.length>0?r("vue-horizontal-list",{attrs:{items:e.liked,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("div",{staticClass:"item"},[r("class",{attrs:{type:"like",course:n,"reaction-id":n.reactionId},on:{"selected-reaction":e.displayReactionModal}})],1)]}}],null,!1,2754588591)}):r("div",{staticClass:"empty"},[r("b-card",{staticClass:"empty",attrs:{"bg-variant":"dark"}},[r("b-card-body",{staticClass:"no-classes"},[e._v(" No Liked Classes ")])],1)],1),r("br"),r("h2",[e._v("Disliked Classes")]),e.disliked.length>0?r("vue-horizontal-list",{attrs:{items:e.disliked,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("div",{staticClass:"item"},[r("class",{attrs:{type:"dislike",course:n,"reaction-id":n.reactionId},on:{"selected-reaction":e.displayReactionModal}})],1)]}}],null,!1,1512367249)}):r("div",{staticClass:"empty"},[r("b-card",{staticClass:"empty",attrs:{"bg-variant":"dark"}},[r("b-card-body",{staticClass:"no-classes"},[e._v(" No Disliked Classes ")])],1)],1),r("br"),r("h2",[e._v("Class Wishlist")]),e.wishlist.length>0?r("vue-horizontal-list",{attrs:{items:e.wishlist,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("div",{staticClass:"item"},[r("class",{attrs:{type:"wishlist",course:n,"reaction-id":n.reactionId},on:{"selected-reaction":e.displayReactionModal}})],1)]}}],null,!1,314745251)}):r("div",{staticClass:"empty"},[r("b-card",{staticClass:"empty",attrs:{"bg-variant":"dark"}},[r("b-card-body",{staticClass:"no-classes"},[e._v(" No Classes in Wishlist ")])],1)],1),r("br"),r("br")],1)],1)}),se=[],ae=r("6336"),oe={name:"UserReactionSection",components:{Class:L,VueHorizontalList:ae["a"]},props:{requestedUid:String},data:function(){return{classesLoading:!1,options:{responsive:[{end:576,size:1},{start:576,end:768,size:2},{start:768,end:992,size:3},{size:4}],position:{start:-1}},liked:[],disliked:[],wishlist:[]}},methods:{displayReactionModal:function(e,t,r){this.$emit("show-reaction",e,t,r)},goToCoursePage:function(e){this.$emit("course-page",e)},getReactions:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getReactions?userId=").concat(e));case 2:return n=r.sent,r.next=5,n.json();case 5:s=r.sent,n.ok?(t.liked=s.liked,t.disliked=s.disliked,t.wishlist=s.wishlist):t.$emit("show-error",s.message);case 7:case"end":return r.stop()}}),r)})))()}},computed:{},watch:{requestedUid:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.classesLoading=!0,""===e.requestedUid){t.next=4;break}return t.next=4,e.getReactions(e.requestedUid);case 4:e.classesLoading=!1;case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.classesLoading=!0,""===e.requestedUid){t.next=4;break}return t.next=4,e.getReactions(e.requestedUid);case 4:e.classesLoading=!1;case 5:case"end":return t.stop()}}),t)})))()}},ie=oe,ce=(r("dff4"),Object(_["a"])(ie,ne,se,!1,null,"d325f88c",null)),ue=ce.exports,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.subjectsLoading,"no-center":""}},[r("h1",[e._v("Subjects")]),r("b-card-group",{attrs:{columns:""}},e._l(e.subjectNames,(function(t,n){return r("b-card",{key:n,attrs:{title:e.getType(t.type)},on:{click:function(r){return e.goToSubjectPage(t.code,t.name)}}},[r("b-card-text",{staticClass:"subjectName"},[e._v(" "+e._s(t.name)+" ")])],1)})),1)],1)],1)},de=[],ge={name:"SubjectsSection",components:{},props:{subjectList:{type:Array,default:function(){return[]}}},data:function(){return{subjectsLoading:!1,subjectNames:[]}},methods:{goToSubjectPage:function(e,t){this.$emit("subject-page",e,t)},getSubjectNames:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getSubjectNames"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.subjectList)});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,r.ok?e.subjectNames=n:e.$emit("show-error",n.message);case 7:case"end":return t.stop()}}),t)})))()},getType:function(e){return e&&["major","minor","certificate","other"].includes(e)?"other"===e?"Interested In":e.charAt(0).toUpperCase()+e.slice(1):""}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.subjectsLoading=!0,t.next=3,e.getSubjectNames();case 3:e.subjectsLoading=!1;case 4:case"end":return t.stop()}}),t)})))()}},me=ge,pe=(r("3c46"),Object(_["a"])(me,le,de,!1,null,"58f78830",null)),fe=pe.exports,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.loading,"no-center":""}},[r("h1",[e._v("Friends")]),e.friends.length>0?r("vue-horizontal-list",{attrs:{items:e.friends,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("div",{staticClass:"item"},[r("user",{staticClass:"user",attrs:{user:n},on:{selected:e.goToUserPage}})],1)]}}],null,!1,2748876613)}):r("div",{staticClass:"empty"},[r("b-card",{staticClass:"empty",attrs:{"bg-variant":"dark"}},[r("b-card-body",{staticClass:"no-classes"},[e._v(" No Friends ")])],1)],1)],1)],1)},be=[],ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{"img-src":e.user.picture,"img-alt":e.user.name+" Profile Picture","img-top":"",title:e.user.displayName,"border-variant":"light"},on:{click:e.goToUserPage}})},we=[],Re={name:"User",components:{},props:{user:Object},data:function(){return{}},methods:{goToUserPage:function(){this.$emit("selected",this.user.userId)}},computed:{},watch:{}},Ce=Re,_e=(r("4b7e"),Object(_["a"])(Ce,ve,we,!1,null,"b32f2b42",null)),je=_e.exports,ye={name:"PeopleSection",components:{User:je,VueHorizontalList:ae["a"]},props:{requestedUid:String},data:function(){return{loading:!1,friends:[],options:{responsive:[{end:576,size:1},{start:576,end:768,size:2},{start:768,end:992,size:3},{size:4}],position:{start:-1}}}},methods:{goToUserPage:function(e){this.$emit("user-page",e)},getUserFriends:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getFriends?userId=").concat(e));case 2:return n=r.sent,r.next=5,n.json();case 5:s=r.sent,n.ok?t.friends=s:t.$emit("show-error",s.message);case 7:case"end":return r.stop()}}),r)})))()}},computed:{},watch:{},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getUserFriends(e.requestedUid);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},ke=ye,Pe=(r("9756"),Object(_["a"])(ke,he,be,!1,null,"7256bdec",null)),Ee=Pe.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{scrollable:"","hide-footer":"","content-class":"shadow",size:"lg"},on:{hide:e.closeModal},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("reaction",{attrs:{reactionId:e.reactionId,type:e.type,course:e.course,user:e.user},on:{"course-page":e.goToCoursePage,"user-page":e.goToUserPage}})],1)},Se=[],Ie={name:"ReactionModal",components:{Reaction:B},props:{show:Boolean,reactionId:String,type:String,course:Object,user:Object},data:function(){return{showModal:!1,modalLoading:!1,showReactionError:!1,errorMessage:"",comments:[],perPage:3,currentPage:1,totalComments:0,newComment:"",commentsLoading:!1}},methods:{goToCoursePage:function(e){this.$emit("course-page",e)},closeModal:function(){this.$emit("close-reaction")},goToUserPage:function(e){this.$emit("user-page",e)}},computed:{},watch:{show:function(){this.showModal=this.show}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!1===e.showModal&&e.closeModal();case 1:case"end":return t.stop()}}),t)})))()}},Ue=Ie,Oe=Object(_["a"])(Ue,xe,Se,!1,null,"8ad23fbc",null),Te=Oe.exports,Le={name:"UserPage",components:{NavBar:y,UserReactionSection:ue,SubjectsSection:fe,PeopleSection:Ee,ReactionModal:Te},props:{requestedUid:String},data:function(){return{pageLoading:!1,user:{},currentSection:"classes",sectionTitles:[{name:"Classes",value:"classes"},{name:"Subjects",value:"subjects"},{name:"Friends",value:"friends"}],showReaction:!1,selectedReactionId:"",selectedReactionType:"",selectedReactionCourse:{},showError:!1,errorMessage:"",validUser:!1,validReactions:!0,validSubjects:!0,validFriends:!0,isFollowing:!1,validFollowStatus:!0,followId:""}},methods:{goToCoursePage:function(e){this.resetReactionData(),this.resetUserData(),this.$emit("course-page",e)},closeReaction:function(){this.resetReactionData()},goToSubjectPage:function(e,t){this.$emit("subject-page",e,t)},displayReactionModal:function(e,t,r){this.showReaction=!0,this.selectedReactionId=r,this.selectedReactionType=e,this.selectedReactionCourse=t},getRequestedUserProfile:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getUser?userId=").concat(e));case 2:return n=r.sent,r.next=5,n.json();case 5:s=r.sent,n.ok?(t.user=s,t.validUser=!0):(t.validUser=!1,t.errorMessage=s.message,t.showError=!0);case 7:case"end":return r.stop()}}),r)})))()},getFollowingStatus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isViewingProfile){t.next=4;break}e.isFollowing=!1,t.next=11;break;case 4:return t.next=6,fetch("".concat(b.SERVER_URL,"/bluebook/getFollowingStatus?currentUserId=").concat(b.currentUid,"&userId=").concat(e.requestedUid));case 6:return r=t.sent,t.next=9,r.json();case 9:n=t.sent,r.ok?(e.validFollowStatus=!0,e.isFollowing=n.isFollowing,e.isFollowing?e.followId=n.followId:e.followId=""):(e.validFollowStatus=!1,e.errorMessage=n.message,e.showError=!0);case 11:case"end":return t.stop()}}),t)})))()},addFriend:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pageLoading=!0,t.next=3,fetch("".concat(b.SERVER_URL,"/bluebook/addFollow?currentUserId=").concat(b.currentUid,"&userId=").concat(e.requestedUid));case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,r.ok?(e.validFollowStatus=!0,e.isFollowing=!0,e.followId=n):(e.errorMessage=n.message,e.showError=!0),e.pageLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},removeFriend:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pageLoading=!0,t.next=3,fetch("".concat(b.SERVER_URL,"/bluebook/removeFollow?followId=").concat(e.followId));case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,r.ok?(e.validFollowStatus=!0,e.isFollowing=n,e.followId=""):(e.errorMessage=n.message,e.showError=!0),e.pageLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},editProfile:function(){},signOut:function(){},changeSection:function(e){this.pageLoading=!0,this.currentSection=e,this.pageLoading=!1},goToUserPage:function(e){this.resetReactionData(),this.user.userId!==e&&(this.resetUserData(),this.$emit("user-page",e))},resetReactionData:function(){this.showReaction=!1,this.selectedReactionId="",this.selectedReactionType="",this.selectedReactionCourse={}},resetUserData:function(){this.user={},this.currentSection="classes"},showReactionError:function(e){this.validReactions=!1,this.showError=!0,this.errorMessage=e},showSubjectError:function(e){this.validSubjects=!1,this.showError=!0,this.errorMessage=e},showPeopleError:function(e){this.validFriends=!1,this.showError=!0,this.errorMessage=e}},computed:{isViewingProfile:function(){return b.currentUid===this.requestedUid},fullSubjectList:function(){var e=[];return this.user.majors.forEach((function(t){e.push({code:t,type:"major"})})),this.user.minors.forEach((function(t){e.push({code:t,type:"minor"})})),this.user.certificates.forEach((function(t){e.push({code:t,type:"certificate"})})),this.user.subjects.forEach((function(t){e.push({code:t,type:"other"})})),e}},watch:{requestedUid:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pageLoading=!0,""===e.requestedUid){t.next=8;break}return e.resetReactionData(),e.resetUserData(),t.next=6,e.getRequestedUserProfile(e.requestedUid);case 6:return t.next=8,e.getFollowingStatus();case 8:e.pageLoading=!1;case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pageLoading=!0,e.resetReactionData(),e.resetUserData(),""===e.requestedUid){t.next=8;break}return t.next=6,e.getRequestedUserProfile(e.requestedUid);case 6:return t.next=8,e.getFollowingStatus();case 8:e.pageLoading=!1;case 9:case"end":return t.stop()}}),t)})))()}},Me=Le,Fe=(r("7114"),Object(_["a"])(Me,te,re,!1,null,"5d374175",null)),Ae=Fe.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("Log In")])},Ne=[],$e={name:"LogInPage",props:{},data:function(){return{}},methods:{},computed:{},watch:{}},De=$e,Ve=Object(_["a"])(De,qe,Ne,!1,null,"503b3538",null),ze=Ve.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("Sign Up")])},We=[],Je={name:"SignUpPage",props:{},data:function(){return{}},methods:{},computed:{},watch:{}},Ge=Je,Ke=Object(_["a"])(Ge,Be,We,!1,null,"21f0c84b",null),Ye=Ke.exports,He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body"},[r("b-overlay",{staticClass:"overlay",attrs:{show:e.loading,"no-center":""}},[e.disablePage?r("span",[e._v(" Please refresh page and try again. ")]):r("span",[r("h1",[e._v(e._s(e.course.title))]),r("h2",[e._v(e._s(e.course.subjectCode+" "+e.course.catalogNumber))]),e.loggedIn?r("div",{staticClass:"reactions"},[e.userReaction.like?r("b-button",{staticClass:"reaction",attrs:{variant:"success"},on:{click:e.removeReaction}},[e._v(" Remove Like ")]):r("b-button",{staticClass:"reaction",attrs:{variant:"outline-success"},on:{click:e.addLike}},[e._v(" Like Class ")]),e.userReaction.dislike?r("b-button",{staticClass:"reaction",attrs:{variant:"danger"},on:{click:e.removeReaction}},[e._v(" Remove Dislike ")]):r("b-button",{staticClass:"reaction",attrs:{variant:"outline-danger"},on:{click:e.addDislike}},[e._v(" Dislike Class ")]),e.userReaction.wishlist?r("b-button",{staticClass:"reaction",attrs:{variant:"primary"},on:{click:e.removeReaction}},[e._v(" Remove from Wishlist ")]):r("b-button",{staticClass:"reaction",attrs:{variant:"outline-primary"},on:{click:e.addToWishlist}},[e._v(" Add to Wishlist ")])],1):e._e(),r("br"),r("div",{staticClass:"center"},[r("label",{attrs:{for:"avg-rating-interesting"}},[e._v("Average Interesting Rating: ")]),r("b-form-rating",{staticClass:"mb-2 rating",attrs:{id:"avg-rating-interesting",value:e.courseInfo.interesting,size:"lg",readonly:"","no-border":"",variant:"primary"}}),r("label",{attrs:{for:"avg-rating-difficulty"}},[e._v("Average Difficulty Rating: ")]),r("b-form-rating",{staticClass:"mb-2 rating",attrs:{id:"avg-rating-difficulty",value:e.courseInfo.difficulty,size:"lg",readonly:"","no-border":"",variant:"danger"}})],1),r("h3",[e._v("Description")]),r("div",{staticClass:"description"},[e._v(" "+e._s(e.courseInfo.description)+" ")]),r("br"),r("h3",[e._v("Course Attributes")]),e.courseInfo.courseCodes&&e.courseInfo.courseCodes.length>0?r("vue-horizontal-list",{attrs:{items:e.courseInfo.courseCodes,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("div",{staticClass:"item"},[r("b-card",{attrs:{"border-variant":"primary"},on:{click:function(t){return e.goToAttributePage(n)}}},[r("b-card-body",[e._v(" "+e._s(n)+" ")])],1)],1)]}}],null,!1,3968283247)}):r("div",{staticClass:"empty"},[r("b-card",{staticClass:"empty",attrs:{"outline-variant":"dark"}},[r("b-card-body",{staticClass:"no-classes"},[e._v(" No Course Attributes ")])],1)],1),r("br"),e.loggedIn?r("h3",{staticClass:"center"},[e._v("Rate:")]):e._e(),e.loggedIn?r("div",{staticClass:"rating"},[r("label",{staticClass:"mt-3",attrs:{for:"rating-interesting"}},[e._v("Interesting")]),r("b-form-rating",{attrs:{id:"rating-interesting",size:"lg","no-border":"","show-clear":"",variant:"primary"},model:{value:e.interestingRating,callback:function(t){e.interestingRating=t},expression:"interestingRating"}}),r("br"),r("label",{staticClass:"mt-3",attrs:{for:"rating-lg"}},[e._v("Difficulty")]),r("b-form-rating",{attrs:{id:"rating-difficulty",size:"lg","no-border":"","show-clear":"",variant:"danger"},model:{value:e.difficultyRating,callback:function(t){e.difficultyRating=t},expression:"difficultyRating"}})],1):e._e(),r("h3",{staticClass:"center"},[e._v("Comments")]),r("b-overlay",{attrs:{show:e.commentsLoading,rounded:"sm"}},[r("div",[e.loggedIn?r("b-input-group",{staticClass:"mb-3",attrs:{size:"sm"}},[r("b-form-textarea",{attrs:{id:"comment-textarea",placeholder:"Leave a comment here",rows:"1","max-rows":"8"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.postComment(t)}},model:{value:e.newComment,callback:function(t){e.newComment=t},expression:"newComment"}}),r("b-input-group-append",[r("b-button",{attrs:{size:"sm",text:"Button",variant:"success"},on:{click:e.postComment}},[e._v(" Post ")])],1)],1):e._e()],1),r("comment-section",{attrs:{comments:e.displayComments},on:{"user-page":e.goToUserPage,"delete-comment":e.deleteComment}}),r("b-pagination",{attrs:{"total-rows":e.totalComments,"per-page":e.perPage,"aria-controls":"comment-section",pills:""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)]),r("b-modal",{model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.errorMessage)+" ")])])],1)},Xe=[],Qe={name:"CoursePage",components:{VueHorizontalList:ae["a"],CommentSection:$},props:{requestedCourseId:String,course:Object},data:function(){return{loading:!1,loggedIn:!1,showError:!1,disablePage:!1,errorMessage:"",courseInfo:{},userReaction:{},userRating:{},difficultyRating:0,interestingRating:0,comments:[],perPage:5,currentPage:1,totalComments:0,newComment:"",commentsLoading:!1,options:{responsive:[{end:576,size:1},{start:576,end:768,size:2},{start:768,end:992,size:3},{size:4}],position:{start:-1}}}},methods:{getCourseInformation:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getCourseInformation?courseId=").concat(e.requestedCourseId));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,r.ok?(e.courseInfo=n.course,e.comments=n.comments):(e.errorMessage=n.message,e.showError=!0,e.disablePage=!0);case 7:case"end":return t.stop()}}),t)})))()},getUserInteractions:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getUserInteractions?courseId=").concat(t,"&userId=").concat(e));case 2:return s=n.sent,n.next=5,s.json();case 5:a=n.sent,s.ok?(r.userReaction=a.reaction,r.userRating=a.rating,r.difficultyRating=a.rating.difficulty,r.interestingRating=a.rating.interesting):(r.errorMessage=a.message,r.showError=!0,r.disablePage=!0);case 7:case"end":return n.stop()}}),n)})))()},updateUserReaction:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,fetch("".concat(b.SERVER_URL,"/bluebook/updateUserReaction?courseId=").concat(t.requestedCourseId,"&userId=").concat(b.currentUid),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=r.sent,r.next=6,n.json();case 6:s=r.sent,n.ok?(t.courseInfo=s.courseInfo,t.userReaction=s.reaction,t.userRating=s.rating,t.difficultyRating=s.rating.difficulty,t.interestingRating=s.rating.interesting):(t.errorMessage=s.message,t.showError=!0,t.disablePage=!0),t.loading=!1;case 9:case"end":return r.stop()}}),r)})))()},updateUserRating:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,fetch("".concat(b.SERVER_URL,"/bluebook/updateUserRating?courseId=").concat(t.requestedCourseId,"&userId=").concat(b.currentUid),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=r.sent,r.next=6,n.json();case 6:s=r.sent,n.ok?(t.courseInfo=s.courseInfo,t.userReaction=s.reaction,t.userRating=s.rating,t.difficultyRating=s.rating.difficulty,t.interestingRating=s.rating.interesting):(t.errorMessage=s.message,t.showError=!0,t.disablePage=!0),t.loading=!1;case 9:case"end":return r.stop()}}),r)})))()},addLike:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={like:!0,dislike:!1,wishlist:!1},t.next=3,e.updateUserReaction(r);case 3:case"end":return t.stop()}}),t)})))()},removeReaction:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={like:!1,dislike:!1,wishlist:!1},t.next=3,e.updateUserReaction(r);case 3:case"end":return t.stop()}}),t)})))()},addDislike:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={like:!1,dislike:!0,wishlist:!1},t.next=3,e.updateUserReaction(r);case 3:case"end":return t.stop()}}),t)})))()},addToWishlist:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={like:!1,dislike:!1,wishlist:!0},t.next=3,e.updateUserReaction(r);case 3:case"end":return t.stop()}}),t)})))()},goToUserPage:function(e){this.clearData(),this.$emit("user-page",e)},clearData:function(){this.showError=!1,this.disablePage=!1,this.errorMessage="",this.comments=[],this.totalComments=0,this.newComment=""},postComment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commentsLoading=!0,e.errorMessage="",e.comments=[],e.totalComments=0,r={courseId:e.requestedCourseId,userId:b.currentUid,commentText:e.newComment},t.next=7,fetch("".concat(b.SERVER_URL,"/bluebook/postCourseComment"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return n=t.sent,t.next=10,n.json();case 10:s=t.sent,e.newComment="",n.ok?(e.comments=s,e.totalComments=s.length):(e.errorMessage=s.message,e.showReactionError=!0),e.commentsLoading=!1;case 14:case"end":return t.stop()}}),t)})))()},deleteComment:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.commentsLoading=!0,t.errorMessage="",t.comments=[],t.newComment="",t.totalComments=0,r.next=7,fetch("".concat(b.SERVER_URL,"/bluebook/deleteCourseComment?commentId=").concat(e,"&courseId=").concat(t.requestedCourseId));case 7:return n=r.sent,r.next=10,n.json();case 10:s=r.sent,n.ok?(t.comments=s,t.totalComments=s.length):(t.errorMessage=s.message,t.showReactionError=!0),t.commentsLoading=!1;case 13:case"end":return r.stop()}}),r)})))()},goToAttributePage:function(e){console.log(e),this.$emit("attribute-page",e)}},computed:{numPages:function(){return Math.ceil(this.totalComments/this.perPage)},displayComments:function(){var e=(this.currentPage-1)*this.perPage;return this.comments.slice(e,e+this.perPage)}},watch:{difficultyRating:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=4;break}return r={interesting:e.interestingRating,difficulty:e.difficultyRating},t.next=4,e.updateUserRating(r);case 4:case"end":return t.stop()}}),t)})))()},interestingRating:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=4;break}return r={interesting:e.interestingRating,difficulty:e.difficultyRating},t.next=4,e.updateUserRating(r);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.loggedIn=b.loggedIn,t.next=4,e.getCourseInformation();case 4:if(!e.loggedIn){t.next=7;break}return t.next=7,e.getUserInteractions(b.currentUid,e.requestedCourseId);case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},Ze=Qe,et=(r("7d34"),Object(_["a"])(Ze,He,Xe,!1,null,"d7ca2bdc",null)),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.loading,"no-center":""}},[r("h1",[e._v(e._s(e.subjectName))]),e.loggedIn?r("div",{staticClass:"reactions"},[e.likesSubject?r("b-button",{staticClass:"reaction",attrs:{variant:"outline-danger"},on:{click:e.removeSubject}},[e._v(" Remove Subject from Profile ")]):e.isMajor?r("b-button",{staticClass:"reaction",attrs:{variant:"outline-primary",disabled:""}},[e._v(" Majoring in "+e._s(e.subjectName)+" ")]):e.isMinor?r("b-button",{staticClass:"reaction",attrs:{variant:"outline-primary",disabled:""}},[e._v(" Minoring in "+e._s(e.subjectName)+" ")]):e.isCertificate?r("b-button",{staticClass:"reaction",attrs:{variant:"outline-primary",disabled:""}},[e._v(" Pursuing Certificate in "+e._s(e.subjectName)+" ")]):r("b-button",{staticClass:"reaction",attrs:{variant:"outline-success"},on:{click:e.addSubject}},[e._v(" Add Subject to Profile ")])],1):e._e(),r("classes-section",{attrs:{classes:e.courses},on:{"course-page":e.goToCoursePage}}),r("b-modal",{model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.errorMessage)+" ")])])],1)],1)},nt=[],st=(r("a434"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.classesLoading,"no-center":""}},[r("h1",[e._v("Classes")]),r("b-card-group",{attrs:{columns:""}},e._l(e.classes,(function(t){return r("class",{key:t.courseId,attrs:{type:"course",course:t},on:{"selected-course":e.goToCoursePage}})})),1)],1)],1)}),at=[],ot={name:"ClassesSection",components:{Class:L},props:{classes:{type:Array,default:function(){return[]}}},data:function(){return{classesLoading:!1}},methods:{goToCoursePage:function(e){this.$emit("course-page",e)}}},it=ot,ct=Object(_["a"])(it,st,at,!1,null,"6c15a28f",null),ut=ct.exports,lt={name:"SubjectPage",components:{ClassesSection:ut},props:{subjectCode:String,subjectName:String},data:function(){return{loading:!1,courses:[],showError:!1,errorMessage:"",loggedIn:!1,userMajors:[],userMinors:[],userCertificates:[],userSubjects:[]}},methods:{goToCoursePage:function(e){this.$emit("course-page",e)},getCourses:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getCoursesForSubject?subjectCode=").concat(encodeURIComponent(e.subjectCode)));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,r.ok?e.courses=n:(e.errorMessage=n.message,e.showError=!0);case 7:case"end":return t.stop()}}),t)})))()},getUsersSubjects:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getUserSubjects?userId=").concat(e));case 2:return n=r.sent,r.next=5,n.json();case 5:s=r.sent,n.ok?(t.userMajors=s.majors,t.userMinors=s.minors,t.userCertificates=s.certificates,t.userSubjects=s.subjects):(t.errorMessage=s.message,t.showError=!0);case 7:case"end":return r.stop()}}),r)})))()},updateUserSubjects:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,fetch("".concat(b.SERVER_URL,"/bluebook/updateUserSubjects?userId=").concat(b.currentUid),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=r.sent,r.next=6,n.json();case 6:s=r.sent,n.ok?t.userSubjects=s:(t.errorMessage=s.message,t.showError=!0),t.loading=!1;case 9:case"end":return r.stop()}}),r)})))()},removeSubject:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.userSubjects.indexOf(e.subjectCode),n=e.userSubjects,n.splice(r,r+1),t.next=5,e.updateUserSubjects(n);case 5:case"end":return t.stop()}}),t)})))()},addSubject:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.userSubjects,r.push(e.subjectCode),t.next=4,e.updateUserSubjects(r);case 4:case"end":return t.stop()}}),t)})))()}},computed:{likesSubject:function(){return this.userSubjects.includes(this.subjectCode)},isMajor:function(){return this.userMajors.includes(this.subjectCode)},isMinor:function(){return this.userMinors.includes(this.subjectCode)},isCertificate:function(){return this.userCertificates.includes(this.subjectCode)}},watch:{},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedIn=b.loggedIn,e.loading=!0,t.next=4,e.getCourses();case 4:if(!e.loggedIn){t.next=7;break}return t.next=7,e.getUsersSubjects(b.currentUid);case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},dt=lt,gt=(r("6312"),Object(_["a"])(dt,rt,nt,!1,null,"c7009a26",null)),mt=gt.exports,pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{staticClass:"overlay",attrs:{show:e.loading,"no-center":""}},[r("h1",[e._v(e._s(e.attributeName))]),r("classes-section",{attrs:{classes:e.courses},on:{"course-page":e.goToCoursePage}}),r("b-modal",{model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.errorMessage)+" ")])])],1)],1)},ft=[],ht={name:"AttributePage",components:{ClassesSection:ut},props:{attributeName:String},data:function(){return{loading:!1,courses:[],showError:!1,errorMessage:""}},methods:{goToCoursePage:function(e){this.$emit("course-page",e)},getCourses:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.SERVER_URL,"/bluebook/getCoursesForAttribute?attribute=").concat(encodeURIComponent(e.attributeName)));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,r.ok?e.courses=n:(e.errorMessage=n.message,e.showError=!0);case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getCourses();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},bt=ht,vt=Object(_["a"])(bt,pt,ft,!1,null,"93e948b8",null),wt=vt.exports,Rt={name:"App",components:{NavBar:y,FeedPage:K,ExplorePage:ee,UserPage:Ae,LogInPage:ze,SignUpPage:Ye,CoursePage:tt,SubjectPage:mt,AttributePage:wt},data:function(){return{loggedIn:!1,currentUid:"",requestedUid:"",currentPage:"profile",pageLoading:!1,requestedCourseId:"",requestedCourse:{},requestedSubject:{},requestedAttribute:""}},methods:{changePage:function(e){this.pageLoading=!0,this.currentPage=e,this.pageLoading=!1},goToUserPage:function(e){this.pageLoading=!0,this.requestedUid=e,this.currentPage="user",this.pageLoading=!1},goToSubjectPage:function(e,t){this.pageLoading=!0,this.requestedSubject={code:e,name:t},this.currentPage="subject",this.pageLoading=!1},goToAttributePage:function(e){this.pageLoading=!0,this.requestedAttribute=e,this.currentPage="attribute",this.pageLoading=!1},goToCoursePage:function(e){this.pageLoading=!0,this.requestedCourse=e,this.requestedCourseId=e.courseId,this.currentPage="course",this.pageLoading=!1}},computed:{getNavBarTitles:function(){return b.loggedIn?[{name:"Feed",value:"feed"},{name:"Explore",value:"explore"},{name:"Profile",value:"profile"}]:[{name:"Explore",value:"explore"},{name:"Log In",value:"login"},{name:"Sign Up",value:"signup"}]}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.pageLoading=!0,e.currentUid=b.currentUid,e.loggedIn=b.loggedIn,e.pageLoading=!1;case 4:case"end":return t.stop()}}),t)})))()}},Ct=Rt,_t=(r("034f"),Object(_["a"])(Ct,a,o,!1,null,null,null)),jt=_t.exports;n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(jt)}}).$mount("#app")},5952:function(e,t,r){"use strict";r("b2ef")},6312:function(e,t,r){"use strict";r("02a7")},"63e8":function(e,t,r){},7114:function(e,t,r){"use strict";r("63e8")},"7d34":function(e,t,r){"use strict";r("44b8")},8354:function(e,t,r){},"85ec":function(e,t,r){},9756:function(e,t,r){"use strict";r("c980")},b2ef:function(e,t,r){},bdc5:function(e,t,r){},c980:function(e,t,r){},ccae:function(e,t,r){},cdcf:function(e,t,r){},d535:function(e,t,r){},dff4:function(e,t,r){"use strict";r("cdcf")}});
//# sourceMappingURL=app.057e06ee.js.map